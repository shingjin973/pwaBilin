<ng-template #nodata>
    <div class="text-center py-5">
        <h3 i18n>Nothing found</h3>
    </div>
</ng-template>

<ng-template #loading>
    <mat-spinner></mat-spinner>
</ng-template>

<div class="courses-page nicdark_background_size_cover nicdark_background_position_center_bottom">
    <div class="section-dvm d-flex flex-column justify-content-center align-items-center">
        <h1 i18n>Prepaid Class Packages</h1>
        <h3 i18n>Enroll in class bundle with pre-scheduled sessions</h3>
    </div>
    <div class="section-dvm sub-nav">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link" [ngClass]="{'active': currentTab == CourseTabs.All}" id="all-tab" data-toggle="tab"
                    href="#" role="tab" aria-controls="all" aria-selected="true"
                    (click)="$event.preventDefault(); clickTab(CourseTabs.All)" i18n>All</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" [ngClass]="{'active': currentTab == CourseTabs.English}" id="english-tab"
                    data-toggle="tab" href="#" role="tab" aria-controls="english" aria-selected="false"
                    (click)="$event.preventDefault(); clickTab(CourseTabs.English)" i18n>Packages<br><span>in
                        English</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" [ngClass]="{'active': currentTab == CourseTabs.Chinese}" id="chinese-tab"
                    data-toggle="tab" href="#" role="tab" aria-controls="chinese" aria-selected="false"
                    (click)="$event.preventDefault(); clickTab(CourseTabs.Chinese)" i18n>Packages<br><span>in
                        Chinese</span></a>
            </li>
        </ul>
        <input autocomplete="off" matInput i18n-placeholder placeholder="Search Keyword" [formControl]="searchForm">
        <div class="filter-selection" onclick="">
            <div class="d-flex justify-content-center align-items-center nicdark_padding_left_10">
                <span i18n>Filter by Interests:&nbsp;&nbsp;</span>{{currentCategory}}
            </div>
            <div class="drop-down">
                <div *ngFor="let category of categories;">
                    <div style="cursor:pointer;" (click)="selectCategory(category.name);">
                        <img [src]="category.picture | s3Storage" alt="" /> {{category.name}}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" [ngClass]="{'active': currentTab == CourseTabs.All}" id="all"
            role="tabpanel" aria-labelledby="all-tab">
            <div class="nicdark_section course-main-section">
                <div class="container">
                    <div *ngIf="bundles; else loading">
                        <div *ngIf="bundles.length; else nodata">
                            <div class="courses-top">
                                <h2>
                                    <strong><span i18n>Showing</span> {{(currentPage - 1) * totalItemsPerPage + 1}} -
                                        {{currentPage * totalItemsPerPage < bundles.length ? currentPage *
                                            totalItemsPerPage : bundles.length}} of {{bundles.length}} <span i18n>
                                            results</span></strong>
                                </h2>
                            </div>
                            <div class="courses-subtop">
                                <div class="row">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="ml-auto col-md-3 text-right">
                                        <div [ngClass]="{'nicdark_bg_green': viewState === View.Table}"
                                            class="nicdark_display_inline_block nicdark_border_1_solid_green nicdark_padding_8 nicdark_margin_right_10 nicdark_border_radius_3">
                                            <a (click)="$event.preventDefault(); viewState = View.Table"
                                                class="nicdark_tooltip_jquery" title="List View" href="#">
                                                <img alt="" class="nicdark_float_left" width="23"
                                                    [src]="viewState === View.Table ? 'assets/img/icons/icon-list-white.svg' : 'assets/img/icons/icon-list-grey.svg'"></a>
                                        </div>
                                        <div [ngClass]="{'nicdark_bg_green': viewState === View.Grid}"
                                            class="nicdark_display_inline_block nicdark_border_1_solid_grey_2 nicdark_padding_8 nicdark_border_radius_3">
                                            <a (click)="$event.preventDefault(); viewState = View.Grid"
                                                class="nicdark_tooltip_jquery" title="Grid View" href="#">
                                                <img alt="" class="nicdark_float_left" width="23"
                                                    [src]="viewState === View.Grid ? 'assets/img/icons/icon-grid-white.svg' : 'assets/img/icons/icon-grid-grey.svg'"></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="courses-main" *ngIf="bundles && bundles.length; else nodata">
                                <div class="card-deck" *ngIf="viewState == View.Grid">
                                    <!-- BEGIN: show first row -->
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3).length == 3">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <ng-template [ngIf]="bundle.membership">
                                                    <img alt="" class="gold"
                                                        src="assets/img/special.png">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">                                                       
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            <!-- {{'1970-01-01 ' + bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm A'}} -->
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            Please contact us to schedule
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3).length == 2">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <ng-template [ngIf]="bundle.membership">
                                                    <img alt="" class="gold"
                                                        src="assets/img/gold1.png">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}

                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="card invisible"></div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3).length == 1">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <ng-template [ngIf]="bundle.membership">
                                                    <img alt="" class="gold"
                                                        src="assets/img/gold1.png">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card invisible" *ngFor="let columnId of [1,2]"></div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3).length == 0">
                                        <div class="card invisible" *ngFor="let columnId of [1,2,3]"></div>
                                    </div>
                                    <!-- END: show first row -->

                                    <!-- BEGIN: show second row -->
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6).length == 3">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <ng-template [ngIf]="bundle.membership">
                                                    <img alt="" class="gold"
                                                        src="assets/img/gold1.png">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6).length == 2">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <ng-template [ngIf]="bundle.membership">
                                                    <img alt="" class="gold"
                                                        src="assets/img/gold1.png">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card invisible"></div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6).length == 1">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <ng-template [ngIf]="bundle.membership">
                                                    <img alt="" class="gold"
                                                        src="assets/img/gold1.png">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card invisible" *ngFor="let columnId of [1,2]"></div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6).length == 0">
                                        <div class="card invisible" *ngFor="let columnId of [1,2,3]"></div>
                                    </div>
                                    <!-- END: show second row -->

                                </div>
                                <table class="table table-courses" *ngIf="viewState == View.Table">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th i18n>Course</th>
                                            <th i18n>Teacher</th>
                                            <th class="text-center" i18n>Sessions</th>
                                            <th class="text-center" i18n>Tuition</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr
                                            *ngFor="let bundle of bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }; let i = index;">
                                            <td>{{(currentPage - 1) * totalItemsPerPage + i + 1}}</td>
                                            <td>
                                                <a href="#"
                                                    [routerLink]="['/courses', bundle.course_id, 'bundle', bundle._id]"
                                                    [appTranslate]="bundle.course.topic_ch">
                                                    {{bundle.course.topic}}
                                                </a>
                                            </td>
                                            <td>
                                                <a href="#" [routerLink]="['/teachers', bundle.teacher?._id]">
                                                    <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                        class="rounded-circle" alt="">
                                                    {{bundle.teacher?.name}}
                                                </a>
                                            </td>
                                            <td class="text-center">
                                                {{bundle.number_of_sessions}}
                                            </td>
                                            <td class="text-center">
                                                {{bundle.tuition | creditsPrice: 'credits'}}
                                            </td>
                                            <td class="text-center">
                                                <a href="#" class="btn btn-sm btn-primary"
                                                    (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                    i18n>
                                                    View
                                                </a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>

                                <div class="text-center">
                                    <pagination-controls nextLabel="" previousLabel="" (pageChange)="paginate($event)">
                                    </pagination-controls>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane fade"
            [ngClass]="{'show': currentTab == CourseTabs.English, 'active': currentTab == CourseTabs.English}"
            id="english" role="tabpanel" aria-labelledby="english-tab">
            <div class="nicdark_section course-main-section">
                <div class="container">
                    <div *ngIf="bundles; else loading">
                        <div *ngIf="bundles.length; else nodata">
                            <div class="courses-top">
                                <h2>
                                    <strong><span i18n>Showing</span> {{(currentPage - 1) * totalItemsPerPage + 1}} -
                                        {{currentPage * totalItemsPerPage < bundles.length ? currentPage *
                                            totalItemsPerPage : bundles.length}} of {{bundles.length}} <span i18n>
                                            results</span></strong>
                                </h2>
                            </div>
                            <div class="courses-subtop">
                                <div class="row">
                                    <div class="col-md-4">
                                        <!-- <mat-form-field class="w-100">
                                          <input autocomplete="off" matInput i18n-placeholder placeholder="Keyword" [formControl]="searchForm">
                                        </mat-form-field> -->
                                    </div>
                                    <div class="ml-auto col-md-3 text-right">
                                        <div [ngClass]="{'nicdark_bg_green': viewState === View.Table}"
                                            class="nicdark_display_inline_block nicdark_border_1_solid_green nicdark_padding_8 nicdark_margin_right_10 nicdark_border_radius_3">
                                            <a (click)="$event.preventDefault(); viewState = View.Table"
                                                class="nicdark_tooltip_jquery" title="List View" href="#"><img alt=""
                                                    class="nicdark_float_left" width="23"
                                                    [src]="viewState === View.Table ? 'assets/img/icons/icon-list-white.svg' : 'assets/img/icons/icon-list-grey.svg'"></a>
                                        </div>
                                        <div [ngClass]="{'nicdark_bg_green': viewState === View.Grid}"
                                            class="nicdark_display_inline_block nicdark_border_1_solid_grey_2 nicdark_padding_8 nicdark_border_radius_3">
                                            <a (click)="$event.preventDefault(); viewState = View.Grid"
                                                class="nicdark_tooltip_jquery" title="Grid View" href="#"><img alt=""
                                                    class="nicdark_float_left" width="23"
                                                    [src]="viewState === View.Grid ? 'assets/img/icons/icon-grid-white.svg' : 'assets/img/icons/icon-grid-grey.svg'"></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="courses-main" *ngIf="bundles && bundles.length; else nodata">
                                <div class="card-deck" *ngIf="viewState == View.Grid">
                                    <!-- BEGIN: show first row -->
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3).length == 3">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3).length == 2">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card invisible"></div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3).length == 1">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card invisible" *ngFor="let columnId of [1,2]"></div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3).length == 0">
                                        <div class="card invisible" *ngFor="let columnId of [1,2,3]"></div>
                                    </div>
                                    <!-- END: show first row -->

                                    <!-- BEGIN: show second row -->
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6).length == 3">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6).length == 2">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card invisible"></div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6).length == 1">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card invisible" *ngFor="let columnId of [1,2]"></div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6).length == 0">
                                        <div class="card invisible" *ngFor="let columnId of [1,2,3]"></div>
                                    </div>
                                    <!-- END: show second row -->

                                </div>

                                <table class="table table-courses" *ngIf="viewState == View.Table">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th i18n>Course</th>
                                            <th i18n>Teacher</th>
                                            <th class="text-center" i18n>Sessions</th>
                                            <th class="text-center" i18n>Tuition</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr
                                            *ngFor="let bundle of bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }; let i = index;">
                                            <td>{{(currentPage - 1) * totalItemsPerPage + i + 1}}</td>
                                            <td>
                                                <a href="#"
                                                    [routerLink]="['/courses', bundle.course_id, 'bundle', bundle._id]"
                                                    [appTranslate]="bundle.course.topic_ch">
                                                    {{bundle.course.topic}}
                                                </a>
                                            </td>
                                            <td>
                                                <a href="#" [routerLink]="['/teachers', bundle.teacher?._id]">
                                                    <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                        class="rounded-circle" alt="">
                                                    {{bundle.teacher?.name}}
                                                </a>
                                            </td>
                                            <td class="text-center">
                                                {{bundle.number_of_sessions}}
                                            </td>
                                            <td class="text-center">
                                                {{bundle.tuition | creditsPrice: 'credits'}}
                                            </td>
                                            <td class="text-center">
                                                <a href="#" class="btn btn-sm btn-primary"
                                                    (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                    i18n>
                                                    View
                                                </a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>

                                <div class="text-center">
                                    <pagination-controls nextLabel="" previousLabel="" (pageChange)="paginate($event)">
                                    </pagination-controls>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane fade"
            [ngClass]="{'show': currentTab == CourseTabs.Chinese, 'active': currentTab == CourseTabs.Chinese}"
            id="chinese" role="tabpanel" aria-labelledby="chinese-tab">
            <div class="nicdark_section course-main-section">
                <div class="container">
                    <div *ngIf="bundles; else loading">
                        <div *ngIf="bundles.length; else nodata">
                            <div class="courses-top">
                                <h2>
                                    <strong><span i18n>Showing</span> {{(currentPage - 1) * totalItemsPerPage + 1}} -
                                        {{currentPage * totalItemsPerPage < bundles.length ? currentPage *
                                            totalItemsPerPage : bundles.length}} of {{bundles.length}} <span i18n>
                                            results</span></strong>
                                </h2>
                            </div>
                            <div class="courses-subtop">
                                <div class="row">
                                    <div class="col-md-4">
                                        <!-- <mat-form-field class="w-100">
                                          <input autocomplete="off" matInput i18n-placeholder placeholder="Keyword" [formControl]="searchForm">
                                        </mat-form-field> -->
                                    </div>
                                    <div class="ml-auto col-md-3 text-right">
                                        <div [ngClass]="{'nicdark_bg_green': viewState === View.Table}"
                                            class="nicdark_display_inline_block nicdark_border_1_solid_green nicdark_padding_8 nicdark_margin_right_10 nicdark_border_radius_3">
                                            <a (click)="$event.preventDefault(); viewState = View.Table"
                                                class="nicdark_tooltip_jquery" title="List View" href="#"><img alt=""
                                                    class="nicdark_float_left" width="23"
                                                    [src]="viewState === View.Table ? 'assets/img/icons/icon-list-white.svg' : 'assets/img/icons/icon-list-grey.svg'"></a>
                                        </div>
                                        <div [ngClass]="{'nicdark_bg_green': viewState === View.Grid}"
                                            class="nicdark_display_inline_block nicdark_border_1_solid_grey_2 nicdark_padding_8 nicdark_border_radius_3">
                                            <a (click)="$event.preventDefault(); viewState = View.Grid"
                                                class="nicdark_tooltip_jquery" title="Grid View" href="#"><img alt=""
                                                    class="nicdark_float_left" width="23"
                                                    [src]="viewState === View.Grid ? 'assets/img/icons/icon-grid-white.svg' : 'assets/img/icons/icon-grid-grey.svg'"></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="courses-main" *ngIf="bundles && bundles.length; else nodata">
                                <div class="card-deck" *ngIf="viewState == View.Grid">
                                    <!-- BEGIN: show first row -->
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3).length == 3">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3).length == 2">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card invisible"></div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3).length == 1">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card invisible" *ngFor="let columnId of [1,2]"></div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(0, 3).length == 0">
                                        <div class="card invisible" *ngFor="let columnId of [1,2,3]"></div>
                                    </div>
                                    <!-- END: show first row -->

                                    <!-- BEGIN: show second row -->
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6).length == 3">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6).length == 2">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card invisible"></div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6).length == 1">
                                        <div class="card course-box" style="border: 1px solid rgba(0, 0, 0, 0.125);"
                                            *ngFor="let bundle of (bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6)">
                                            <div class="nicdark_section nicdark_position_relative">
                                                <ng-template #placeholderThumbnail>
                                                    <img class="nicdark_section card-img-top"
                                                        src="assets/img/courses/img2.png" alt="">
                                                </ng-template>
                                                <ng-template [ngIf]="!!bundle.course?.thumbnail"
                                                    [ngIfElse]="placeholderThumbnail">
                                                    <img alt="" class="nicdark_section card-img-top"
                                                        [src]="bundle.course.thumbnail | s3Storage">
                                                </ng-template>
                                                <div
                                                    class="nicdark_bg_greydark_alpha_gradient_2 nicdark_position_absolute nicdark_left_0 nicdark_height_100_percentage nicdark_width_100_percentage nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <div class="course-card-thumbnail-bottom">
                                                        <div>
                                                            <i class="fas fa-tasks mr-2"></i>
                                                            <span>{{bundle.number_of_sessions}} <span
                                                                    i18n>sessions</span></span>
                                                        </div>
                                                        <div>
                                                            <i class="far fa-clock mr-2"></i>
                                                            <span>{{bundle.session_length | duration}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-body">
                                                <div
                                                    class="nicdark_section nicdark_padding_20 nicdark_box_sizing_border_box">
                                                    <h3 class="" [appTranslate]="bundle.course.topic_ch">
                                                        {{bundle.course.topic}}</h3>
                                                    <h5 class="">
                                                        <a [appTranslate]="bundle.bundle_title_ch" href="#"
                                                            (click)="$event.preventDefault(); navigate(['/courses', bundle.course_id, 'package', bundle._id])">{{bundle.bundle_title
                                                            || ''}}</a>
                                                    </h5>
                                                    <div class="d-flex">
                                                        <a [href]="'/teachers/' + bundle.teacher._id"
                                                            class="d-flex align-items-center"
                                                            (click)="$event.preventDefault(); navigate(['/teachers', bundle.teacher._id])">
                                                            <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                                width="36" height="36" class="rounded-circle mr-2"
                                                                alt="">
                                                            <span
                                                                class="text-primary mb-0">{{bundle.teacher.name}}</span>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer">
                                                <div *ngIf="(bundle.number_of_bundles * bundle.max_students_per_session - bundle.enrollment[0].length) <5"
                                                    class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-users mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session -
                                                            bundle.enrollment[0].length}} of
                                                            {{bundle.number_of_bundles *
                                                            bundle.max_students_per_session}} available
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <!--<i class="fas fa-dollar-sign mr-2"></i>-->
                                                        <img alt=""
                                                            class="nicdark_margin_right_10 nicdark_display_table_cell nicdark_vertical_align_middle"
                                                            width="20" src="assets/img/icons/icon-money.png">
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{bundle.tuition | creditsPrice: 'credits'}}
                                                        </p>
                                                    </div>
                                                    <div class="" style="float: right">
                                                        <a class="nicdark_color_white nicdark_bg_red nicdark_first_font nicdark_padding_8 nicdark_border_radius_3 nicdark_font_size_13"
                                                            style="float: right" [href]="'/course/' + bundle.course_id"
                                                            (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                            i18n>Details</a>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-user mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            i18n>
                                                            Age {{bundle.course?.min_age}} - {{bundle.course?.max_age}}
                                                            yr.
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 5px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-calendar-alt mr-2"></i>
                                                        <p
                                                            class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8">
                                                            {{make_date_string(bundle.date_time)}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="nicdark_section" style="padding: 10px 20px 20px 20px">
                                                    <div class="nicdark_display_table nicdark_float_left">
                                                        <i class="fas fa-clock mr-2"></i>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="isValidTime(bundle.date_time[0].time)">
                                                            {{make_time_string(bundle.date_time) +
                                                            bundle.date_time[0].time | amLocal | amDateFormat: 'h:mm
                                                            A'}}
                                                        </p>
                                                        <p class="nicdark_display_table_cell nicdark_vertical_align_middle nicdark_font_size_8"
                                                            *ngIf="!isValidTime(bundle.date_time[0].time)">
                                                            {{bundle.date_time[0].time}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card invisible" *ngFor="let columnId of [1,2]"></div>
                                    </div>
                                    <div class="row"
                                        *ngIf="(bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }).slice(3, 6).length == 0">
                                        <div class="card invisible" *ngFor="let columnId of [1,2,3]"></div>
                                    </div>
                                    <!-- END: show second row -->

                                </div>

                                <table class="table table-courses" *ngIf="viewState == View.Table">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th i18n>Course</th>
                                            <th i18n>Teacher</th>
                                            <th class="text-center" i18n>Sessions</th>
                                            <th class="text-center" i18n>Tuition</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr
                                            *ngFor="let bundle of bundles | paginate: { itemsPerPage: totalItemsPerPage, currentPage: currentPage }; let i = index;">
                                            <td>{{(currentPage - 1) * totalItemsPerPage + i + 1}}</td>
                                            <td>
                                                <a href="#"
                                                    [routerLink]="['/courses', bundle.course_id, 'bundle', bundle._id]"
                                                    [appTranslate]="bundle.course.topic_ch">
                                                    {{bundle.course.topic}}
                                                </a>
                                            </td>
                                            <td>
                                                <a href="#" [routerLink]="['/teachers', bundle.teacher?._id]">
                                                    <img [src]="bundle.teacher.profile_picture | s3Storage"
                                                        class="rounded-circle" alt="">
                                                    {{bundle.teacher?.name}}
                                                </a>
                                            </td>
                                            <td class="text-center">
                                                {{bundle.number_of_sessions}}
                                            </td>
                                            <td class="text-center">
                                                {{bundle.tuition | creditsPrice: 'credits'}}
                                            </td>
                                            <td class="text-center">
                                                <a href="#" class="btn btn-sm btn-primary"
                                                    (click)="$event.preventDefault(); navigate(['courses', bundle.course_id, 'package', bundle._id])"
                                                    i18n>
                                                    View
                                                </a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>

                                <div class="text-center">
                                    <pagination-controls nextLabel="" previousLabel="" (pageChange)="paginate($event)">
                                    </pagination-controls>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>